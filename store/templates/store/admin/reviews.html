{% extends 'store/admin/base.html' %}
{% block title %}Reviews{% endblock %}
{% block page_title %}Reviews{% endblock %}
{% block content %}
<div class="card">
<div class="card-header">
<h2>All Reviews ({{ reviews|length }})</h2>
</div>
<div class="table-wrap">
<table>
<thead><tr><th>Product</th><th>Customer</th><th>Rating</th><th>Review</th><th>Date</th><th>Actions</th></tr></thead>
<tbody>
{% for r in reviews %}
<tr>
<td style="font-weight:600">{{ r.product.name }}</td>
<td>{{ r.name }}</td>
<td>{% for i in "12345" %}{% if forloop.counter <= r.rating %}<i class="ri-star-fill" style="color:#ff9800;font-size:.8rem"></i>{% else %}<i class="ri-star-line" style="color:#ddd;font-size:.8rem"></i>{% endif %}{% endfor %}</td>
<td style="max-width:300px;font-size:.82rem;color:#555">{{ r.text|truncatewords:20 }}</td>
<td style="font-size:.8rem;color:#888">{{ r.created_at|date:"M d, Y" }}</td>
<td>
<form method="POST" action="{% url 'admin_review_delete' r.id %}" style="display:inline" onsubmit="return confirm('Delete this review?')">
{% csrf_token %}
<button type="submit" class="btn btn-sm btn-danger"><i class="ri-delete-bin-line"></i></button>
</form>
</td>
</tr>
{% empty %}
<tr><td colspan="6" style="text-align:center;color:#888;padding:2rem">No reviews yet</td></tr>
{% endfor %}
</tbody>
</table>
</div>
</div>
{% endblock %}