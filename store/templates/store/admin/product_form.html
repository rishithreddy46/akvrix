{% extends 'store/admin/base.html' %}
{% block title %}{% if editing %}Edit{% else %}Add{% endif %} Product{% endblock %}
{% block page_title %}{% if editing %}Edit Product: {{ product.name }}{% else %}Add New Product{% endif %}{% endblock %}
{% block content %}
<div class="card" style="max-width:900px">
<div class="card-header"><h2>{% if editing %}Edit{% else %}New{% endif %} Product Details</h2></div>
<div style="padding:1.5rem">
<form method="POST">
{% csrf_token %}
<div class="form-grid">
<div class="form-group">
<label>Product Name</label>
<input type="text" name="name" value="{{ product.name|default:'' }}" required placeholder="Shadow Oversized Tee">
</div>
<div class="form-group">
<label>Slug (URL-friendly)</label>
<input type="text" name="slug" value="{{ product.slug|default:'' }}" required placeholder="shadow-oversized-tee">
</div>
<div class="form-group">
<label>Price (&#8377;)</label>
<input type="number" name="price" value="{{ product.price|default:'0' }}" step="0.01" required>
</div>
<div class="form-group">
<label>Old Price (&#8377;) â€” leave empty for no discount</label>
<input type="number" name="old_price" value="{{ product.old_price|default:'' }}" step="0.01">
</div>
<div class="form-group">
<label>Category</label>
<select name="category" required>
{% for val, label in categories %}
<option value="{{ val }}" {% if product.category == val %}selected{% endif %}>{{ label }}</option>
{% endfor %}
</select>
</div>
<div class="form-group">
<label>Badge (Best Seller, New, Limited, or empty)</label>
<input type="text" name="badge" value="{{ product.badge|default:'' }}" placeholder="Best Seller">
</div>
<div class="form-group full">
<label>Description</label>
<textarea name="description" required placeholder="Product description...">{{ product.description|default:'' }}</textarea>
</div>
<div class="form-group">
<label>Image URL</label>
<input type="url" name="image" value="{{ product.image|default:'' }}" required placeholder="https://...">
</div>
<div class="form-group">
<label>Hover Image URL</label>
<input type="url" name="image_hover" value="{{ product.image_hover|default:'' }}" placeholder="https://...">
</div>
<div class="form-group">
<label>Sizes (comma-separated)</label>
<input type="text" name="sizes" value="{{ product.sizes|default:'S,M,L,XL,XXL' }}" required placeholder="S,M,L,XL,XXL">
</div>
<div class="form-group">
<label>Colors (comma-separated hex)</label>
<input type="text" name="colors" value="{{ product.colors|default:'#000,#FFF' }}" required placeholder="#000,#FFF,#C0C0C0">
</div>
<div class="form-group">
<label>Rating</label>
<input type="number" name="rating" value="{{ product.rating|default:'4.5' }}" step="0.1" min="0" max="5">
</div>
<div class="form-group">
<label>Reviews Count</label>
<input type="number" name="reviews_count" value="{{ product.reviews_count|default:'0' }}">
</div>
<div class="form-group">
<label style="display:flex;align-items:center;gap:.5rem;cursor:pointer">
<input type="checkbox" name="in_stock" {% if product.in_stock or not editing %}checked{% endif %} style="width:18px;height:18px;accent-color:#1a1a2e"> In Stock
</label>
</div>
</div>
<div style="display:flex;gap:.75rem;margin-top:1.5rem">
<button type="submit" class="btn btn-primary"><i class="ri-save-line"></i> {% if editing %}Save Changes{% else %}Add Product{% endif %}</button>
<a href="{% url 'admin_products' %}" class="btn btn-outline">Cancel</a>
</div>
</form>
</div>
</div>
{% endblock %}